<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/hometabs/callcenter"></ion-back-button>
    </ion-buttons>
    <ion-title>New Request</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-item-divider>
    <h4>Request Details</h4>
  </ion-item-divider>

  <ion-item>
    <ion-label position="floating">Department</ion-label>
    <ion-select [(ngModel)]="department">
      <ion-select-option *ngFor="let department of departments" [value]="department.description">{{
        department.description }}
      </ion-select-option>
    </ion-select>
  </ion-item>

  <ion-item>
    <ion-label position="floating">Location/Room</ion-label>
    <ion-input [(ngModel)]="locationRoom" autocapitalize="on"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="floating">Facility</ion-label>
    <ion-select [(ngModel)]="facility">
      <ion-select-option *ngFor="let facility of facilities" [value]="facility.description">{{ facility.description }}
      </ion-select-option>
    </ion-select>
  </ion-item>

  <ion-item-divider>
    <h4>Discipline</h4>
  </ion-item-divider>

  <ion-item>
    <ion-label position="floating">Discipline</ion-label>
    <ion-select [(ngModel)]="discipline">
      <ion-select-option *ngFor="let discipline of disciplines" [value]="discipline.description">{{
        discipline.description }}
      </ion-select-option>
    </ion-select>
  </ion-item>

  <ion-item>
    <ion-label position="floating">Comment</ion-label>
    <ion-textarea [(ngModel)]="comment" autocapitalize="on" rows="7" placeholder="Enter comment here...">
    </ion-textarea>
  </ion-item>

  <ion-item-divider>
    <h4>Photo (Optional)</h4>
  </ion-item-divider>

  <ion-button expand="full" color="primary" (click)="takePhoto()">Take Photo</ion-button>

  <ion-grid>
    <ion-row>
      <ion-col size="6" *ngFor="let photo of photoService.photos; index as position">
        <ion-img [src]="photo.webviewPath"></ion-img>
      </ion-col>
    </ion-row>
  </ion-grid>

  <div *ngIf="coords">
    <p>Latitude: {{ this.coords.coords.latitude }}</p>
    <p>Longitude: {{ this.coords.coords.longitude }}</p>
    <p>Date & Time: {{ this.dateTime }}</p>
  </div>

  <ion-button expand="full" color="primary" (click)="generateRequest()">Generate Request</ion-button>

</ion-content>